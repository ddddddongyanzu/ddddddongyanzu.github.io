---
Layout: post
desc: Web前端进阶
title:  Web前端进阶
tag:  study
---

## Web前端进阶

### <1> HTML 进阶

#### HTML5/CSS3 进阶

##### 认识HTML5

`HTML5`简而言之就是`HTML`的升级版，在之前的基础上添加了更多的功能，丰富了一些属性，让页面制作更加多元化，相比之前的`HTML`

而言，`HTML5`功能更加多元化，相比之前的`HTML`而言，`HTML5`功能更强大、页面效果更绚丽，下面我们观看几个案例来感受一下`HTML5`制作出来的页面效果：

<iframe height=498 width=510 src="https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.1/courseware/HTML5%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BB%80%E4%B9%88.mp4">

##### 语义化标签

其实我们在学习`HTML`的时候，已经接触到了语义，比如我们之前使用的：

- `<p></p>`标签代表段落
- `<h1></h1>`标签代表一级标题
- `<li></li>`标签代表列表

这就是语义化标签，即标签的名字赋予标签的意义和作用。

但是`div`代表什么呢？显然是无法根据`div`这个标签名判断`div`在页面中的位置，比如下面这个页面，它的页面结构非常清晰。

![语义化标签](/Users/dongyanzu/Desktop/语义化标签.png)

下面用我们常用的布局方法来将上面这张图转化成代码，代码如下：

```html
<div></div>
<div></div>
<div></div>
```

大家有没有注意到一个问题，本来清晰的页面结构，写成代码以后，仅靠阅读代码，我们无法在脑海中形成之前的页面结构。

语义化标签就是用来解决这个问题的，对应上面每一个区块，在`HTML5`中都有对应的语义化标签，下面我们用语义化标签来改造一下上面这段代码。

```html
<!-- 头部 -->
<header></header>
<!-- 主体 -->
<main></main>
<!-- 底部 -->
<footer></footer>
```

仅通过阅读代码，就可以确定页面结构，这就是语义化标签的意义所在。

##### 常用的语义化标签：

常用的语义化标签不止上面三个，下面这个布局所设计的语义化标签基本涵盖了我们常用的语义化标签：

对应的`HTML`代码如下：

```html
<!-- 头部 -->
<header>header</header>
<!-- 主体 -->
<main>
    <!-- 导航 -->
    <nav>nav</nav>
    <!-- 区块 -->
    <section>section</section>
    <section>section</section>
</main>
<!-- 侧边栏 -->
<aside></aside>
<!-- 底部 -->
<footer></footer>
```

##### 语义化标签的使用场景

下面我们以“淘宝网”首页为例，来理解语义化标签的使用场景。

`<header></header>`--头部

`header`标签用于展示介绍性内容，通常包含一组介绍性的或者是辅助导航的实用元素。

例如淘宝页面中的顶部：

![header10](/Users/dongyanzu/Desktop/header10.png)

`<main></main>`--主体

`main`标签通常是页面的主体内容区域。

例如淘宝页面中`header`一下`footer`以上的所有内容

![main1](/Users/dongyanzu/Desktop/main1.png)

但是在实际应用中，需要根据具体情况去分析，只要是某个区块的主体就可以用`main`标签，暂时我们不用纠结，只记住上面这一种即可。

`<footer></footer>`--底部

`footer`表示页面也叫部分的版权数据、与文档相关的链接、责任声明等信息。

网页中最常见的`footer`就是页面最底部的一些额外信息：
![footer1](/Users/dongyanzu/Desktop/footer1.png)

淘宝的页面`footer`内容比较多，一般网站的`footer`信息不会很多。

`<nav></nav>`--导航

`nav：`定义文档或者页面的导航

比如网页中的商品类别导航：

![nav1](/Users/dongyanzu/Desktop/nav1.png)

`<aside></aside>`--侧边栏

`aside:`定义页面的侧边栏内容

如淘宝的侧边栏：

![aside1](/Users/dongyanzu/Desktop/aside1.png)

`<section></section>`——区域块

`section:`定义文档中的节，区域块，`section`更像接近`div`的语义，就是在页面中开辟一块空间。

比如下面这个页面中，我们首先要将页面分成左右两部分，这里就可以用`section`去区分：![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.1/section1.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

基本上，语义化标签的使用场景就是这么多，还有一些更深入的使用场景，我们暂时先不用去了解，只要知道常用的一些使用场景即可。

##### CSS3

`CSS3`和`HTML5`的关系你可以理解为`CSS`和`HTML`之间的关系，由于`CSS3`修改的内容较多，我们在后续章节会展开讲，在本章不做赘述。

### <2> CSS伪类

#### 2.1 CSS 伪元素--::after/::before

网页中我们经常会在页面的头部看到下图中的布局：

![f2-2-1-微博头部](https://github.com/ddddddongyanzu/ddddddongyanzu.github.io/blob/master/images/posts/f2-2-1-微博头部.png?raw=true)

我们的做法是这样的，核心代码如下：

```html
<span class="icon"></span><span class="words">主页</span>
```

```css
.icon {
    display: inline-block;
    width: 24px;
    height: 24px;
    background: url(https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/source/first-page.png) no-repeat center;
    background-size: contain;
    vertical-align: top;
    margin-right: 8px;
}

.words {
    font-size: 18px;
    line-height: 24px;
}
```

其实我们还有一种更好的办法来完成上述方案，即伪元素。

伪元素就是利用`css`代码在标签内部的前面，或者后面添加一个行内元素，这个行内元素呢可以理解为`span`

下面为们来认识一下伪元素的写法：

```css
/* before */
选择器::before{
  /* 使用空白符号占位 */
  content: '';
}

/* after */
选择器::after{
  /* 使用空白符号占位 */
  content: '';
}
```

接下来我们来使用伪元素实现开头的案例。

1. 去除`HTML`代码中类名为`icon`的`span`标签

```html
<span>主页</span>
```

2. 修改`CSS`代码

```css
/* 在span之前添加行内元素 */
span::before {
  content: '';
  /* 将添加的行内元素定位，并设置大小、背景 */
    position: absolute;
    left: 0px;
    width: 24px;
    height: 24px;
    background: url(https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/source/first-page.png) no-repeat center;
    background-size: contain;
}
```

最后我们通过代码演示来看一下最终的效果：

代码演示

上述案例中我们将添加的行内元素做了定位处理，其实还可以将添加的行内元素转换成块元素（`block`）或者行内块元素（`inline-block`）来实现我们需要的效果。

下面我们要用`display`来做一个案例，在很多网页的轮播图中，我们可以看到这样的用来切换图的一个小圆点，如下图所示：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.1/homework/%E5%B0%8F%E5%9C%86%E7%82%B9.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

在这里的小圆点放大一点后，如下图：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/markdown/iMac%20-%208.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

这个案例就不同去对比常规写法和伪元素写法了，我们直接用伪元素来完成上图效果，核心代码在下面：

```html
<div class="circle"></div>
```

```css
.circle {
    box-sizing: border-box;
    width: 200px;
    height: 200px;
    margin: 20px auto;
    border-radius: 50%;
    background: #9995A5;
    /* 使用padding让子元素居中 */
    padding: 30px;
    border: 10px solid #8E8A97;
}

.circle::before{
   content: '';
  /* 将添加的行内元素转成块元素 */
    display: block;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: #666278;
}
```

在之前的例子中我们都用的是`::before`，没有介绍过`::after`，其实`::after`和`::before`是一样的，当我们需要第二个行内元素的时候，就需要用`after`。

#### 2.2 CSS伪类--清除浮动

##### 浮动带来的问题

我们先来看一个页面，如下图：

![Screen Shot 2022-05-08 at 6.23.28 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-08 at 6.23.28 PM.png)

要完成这个案例，最好的办法就是子元素设置高度，父元素的高度由子元素撑起来，使父元素的高度可以自适应，核心代码如下：

```html
<div class="father-one">
    <div class="son-one">son-one</div>
    <div class="son-two">son-two</div>
    <div class="son-three">son-three</div>
</div>
```

```css
.father-one {
    border: 2px solid #8E8A97;
    text-align: center;
}

.son-one {
    line-height: 50px;
    background-color: #00FFFF;
}

.son-two {
    line-height: 100px;
    background-color: #00BFFF;
}

.son-three {
    line-height: 50px;
    background-color: #00FFFF;
}
```

影响父元素兄弟元素的布局

下面我们给`.father-one`后面添加一个兄弟元素，然后让`.father-one`里面的所有子元素都浮动，看一下会出现什么现象：

核心代码如下（代码中省略了部分已有的代码）：

```html
<!-- 添加father-one的兄弟元素 -->
<div class="father-two"></div>
```

```css
.son-one{
  /* 浮动后的元素宽度默认和它内容的宽度一致，即和文字的宽度一致。
  这里为了美观，设置一个自定义宽度*/
  width:33.3%;
  float:left;
}

.son-two{
  width:33.3%;
  float:left;
}

.son-three{
  width:33.3%;
  float:left;
}

.father-two{
  height: 150px;
  background-color: #CACACA;
}
```

最终得到下图所示的页面效果：

![Screen Shot 2022-05-08 at 6.27.15 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-08 at 6.27.15 PM.png)

观察上图，会发现类名为`father-two`的`div`的一部分内容会跑到`father-one`的子元素的下面，这是因为`father-two`会紧跟`father-one`的下边界（即红色下边框线）。

这显然不是我们需要的效果，我们希望最终的页面效果应该是这样的：

![Screen Shot 2022-05-08 at 6.29.37 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-08 at 6.29.37 PM.png)

所以现在我们需要一种技术可以让父元素包住浮动的子元素，这种技术被称为清除浮动。

##### 清除浮动

清除浮动的方法很多，这里我们只需要掌握一种最常用的方法即可，如下`CSS`代码即是清除浮动的`CSS`代码：

```css
.clearfix::after{
  content: '';
  display: block;
  clear: both;
}
```

比如说我们要解决之前案例中的浮动问题，只需要在父盒子上添加`clearfix`类名即可，具体参见下方代码：

```html
<!-- 添加清除浮动类名 -->
<div class="father-one clearfix">
    <div class="son-one">son-one</div>
    <div class="son-two">son-two</div>
    <div class="son-three">son-three</div>
</div>
```

最后请记住一句话，哪个盒子的子元素有浮动，就在哪个盒子上添加清除浮动。

##### ps :

很多时候，第一行的最后一块有位置，但是最后一个元素却跑到第二行，这是因为，最后一个盒子的右边距是多余的，加上以后，总宽度超出父盒子的宽度，所以需要清除掉。

**解决方法**

```css
.last{
  margin-right:0;
}
```

*转义符号*

作业中`小米<小爱老师>`中的尖括号在`html`代码中会出现报错现象，所以我们要用转义符号去写，即`小米&lt;小爱老师&gt;`

#### 2.3 CSS 伪类--事件伪类

伪类在页面中随处可见，通俗点说，就是鼠标移动上去，字体颜色、背景颜色或者边框中一种或多种样式发生了改变，那么如何使得这些样式发生改变呢？下面我们就来一探究竟：

首先我们要学习的是鼠标移动上去的效果--`hover`。

`hover`——鼠标移动上去

要让样式发生变化，首先我们会有一个基础样式，以“优课达”首页为例：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.1/courseware/%E4%BC%98%E8%AF%BE%E8%BE%BE-hover.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

当鼠标移动上去以后，对应的地方，样式会发生改变，最终变成这样：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.1/courseware/%E4%BC%AA%E7%B1%BB-hover2.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

观察之后，我们发现，每一个小块的背景颜色从白色-->蓝色，文字从黑色-->白色，所以我们要做的就是在鼠标箭头移动上去以后，完成这两种状态的转换，能完成这种转换过程的就是伪类，具体代码如下：

```css
li:hover{
    background-color: #47A0FC;
    color: white;
}
```

经过上述步骤之后，我们就会完成如下效果：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/f2-2-3-demo1.gif)

一个标签上可以添加多个`:hover`效果，并且都会生效，例如：

```html
<div><div>
```

```css
div:hover{
    border:1px solid blue;
}

div:hover{
    background:red;
}
```

同一个标签，如果使用伪类改变的属性相同，那么最终效果是后添加的效果，例如：

```html
<div><div>
```

```css
div:hover{
    border:1px solid blue;
}

div:hover{
    border:1px solid red;
}
```

最终边框颜色是`red`当然这个不一定完全对，有时一些同学可能会这样做：

```css
.hover-div div:hover{
    border:1px solid blue;
}

div:hover{
    border:1px solid red;
}
```

那么这时候就不回是`red`而是`blue`，因为选择器的选择权重上看`.hover-div div`>`div`

`:hover`一个标签来改变另一个标签的属性

在这里我们只说`:hover`父元素，改变子元素的属性（这里的是直接子元素） 什么是直接子元素？

下面这段代码中，`span`是`div`的直接子元素

```html
<div>
    <span></span>
</div>
```

下面这段代码中，`span`不是`div`的直接子元素

```html
<div>
    <p>
        <span></span>
    </p>
</div>
```

**如何通过父元素的****`:hover`改变直接子元素的样式**

```html
<div>
    <span></span>
</div>
div:hover>span{
    background:blue;
}
```

`active`——鼠标点击时

`active`：鼠标点击时候的效果，这个效果在超链接中比较常见，注意这里的点击时点住鼠标不松开。

在`hover`的基础上，我们来再添加一个`active`伪类，实现下图所示效果：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/f2-2-3-demo2.gif)

首先需要用选择器选中要添加伪类的标签，`ul>li`。

然后再选择器后面添加对应的伪类，这里我们要添加的是`active`

```css
ul>li:active{
    /* 要改变的效果 */
}
```

最后在花括号内添加要改变的样式:

```css
ul>li:active{
    /* 要改变的效果 */
    color: black;
}
```

下面我们通过代码演示来看一下最终的效果：

**注意：**

`hover`一定要在`active`之前，否则不会生效。

```css
/* 正确 */
a:hover{}
a:active{}
/* 错误 */
a:active{}
a:hover{}
```

`focus`——获取焦点后

`focus`：获取焦点的伪类，一般用于具有焦点的元素，比如`input`，比如我们可以让`input`获取焦点以后，改变`input`的边框颜色。

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/f2-2-3-demo3.gif)

#### 2.4伪类--列表伪类

列表伪类的功能更像是一个选择器，选择某个元素的子元素，我们要学习的是比较常用的三个。

![Screen Shot 2022-05-09 at 5.46.13 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-09 at 5.46.13 PM.png)

1. 匹配其父元素的第一个子元素--`:first-child`

现在我们有一个效果要实现，给上图第一个色块换一种颜色并改变文字颜色，实现下图所示的效果，该怎么做呢？

![Screen Shot 2022-05-09 at 5.47.24 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-09 at 5.47.24 PM.png)

此时就可以用到伪类中的`:first-child`，具体做法是在文首效果图的基础代码上添加如下代码即可：

```css
ul>li:first-child{
    background-color: #3687FC;
    color: #FFFFFF;
}
```

注意：这里的选择器`ul>li`一定要注意，选择器选到的是子元素`li`而不是父元素`ul`

2. 匹配父元素中最后一个子元素--`:last-child`

在上面案例的基础上，我们将`:first-child`改成`:last-child`即可实现下图的效果：![Screen Shot 2022-05-09 at 6.04.03 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-09 at 6.04.03 PM.png)

3. 匹配父元素的第n个子元素--`:nth-child()`

`:nth-child()`较前两个来说略微复杂一点，但是理解起来并不困难，首先我们要关注的是`child`后面的括号，在这个括号里我们可以添加人意数字，从1开始，1代表`first-child`，以此类推。

比如说我们要选中第三个方格，实现下图所示效果，可以这样来写：

![Screen Shot 2022-05-09 at 6.06.17 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-09 at 6.06.17 PM.png)

```css
ul>li:nth-child(3){
  background-color: #3687FC;
  color: #FFFFFF;
}
```

`nth-child`后面的括号内除了可以写数字也可以写两个特定的单词`odd`(奇)、`even`(偶)，大家可以自行尝试一下这两个值。

下面来看一个实际应用中的案例，比如说淘宝网中有这样一个布局

如下图：

![watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/last-child-demo.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

我们将详细内容简化成色块，变成下图的颜色：

![img](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.2/last-child-demo2.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

具体步骤如下：

```html
<ul class="clearfix">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
</ul>
```

```css
ul>li{
    float: left;
    width: 226px;
    height: 80px;
    /* 给所有的li着色为相同颜色 */
    background: #9D24EC;
    border-radius: 10px;
    /* 统一为所有的色块设置右边距 */
    margin-right: 11px;
}
```

2. 使用伪类修改其它色块相对于第一个色块不同的地方（这里用到了层叠性）

```css
/* 使用伪类层叠掉不同颜色的色块 */
ul>li:nth-child(2){
    background: #FB9526;
}
ul>li:nth-child(3){
    background: #FE59CE;
}
ul>li:nth-child(4){
    background: #4CC1FE;
}
ul>li:last-child{
    background: #4BC74A;
}
```

3. 清除掉最后一个色块的右边距：

```css
ul>li:last-child{
    /* 最后一个元素不需要右边距，用伪类清除 */
    margin-right: 0px;
    background: #4BC74A;
}
```

##### 注意

在上面的代码中，我们一直用的是`ul`、`li`标签，有的同学会误以为只有`li`标签才可以用列表伪类，其实是不对的：

1. 使用`ul`、`li`是为了考虑语义化的因素

2. 列表伪类的适用条件是，同一级别，相同元素
- 同一级别

```html
<!-- 第一级别 -->
<div>
    <!-- 第二级别 -->
    <div>
        <!-- 第三级别 -->
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div></div>
    <div></div>
    <div></div>

</div>
```

- 相同元素

```css
span:nth-child(2){

}
```

上面的代码标识选中所有span标签中的第二个。

#### 2.5 微博头部开发

微博头部开发

之前我们做的所有的联系都是页面中的某一个部分，就算涉及到布局，也不多，从微博项目开始，我们就要去关注布局这个知识点，预期说是知识点，不如说是经验。

比如下面这个布局：![Screen Shot 2022-05-09 at 7.46.40 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-09 at 7.46.40 PM.png)

或许你会这样去写：

```html
<div class="box clearFix">
  <div class="left"></div>
  <div class="right"></div>
</div>
```

```css
.clearFix::after {
  display: block;
  content: '';
  clear: both;
}

.box {
  background: #e3f3d1;
}

.box > div {
  box-sizing: border-box;
  width: 40px;
  height: 20px;
  background: #c0e2fd;
  border: 1px solid #6c8ebf;
}

.box .left {
  float: left;
  margin-left: 20px;
}

.box .right {
  float: right;
  margin-right: 20px;
}
```

最终效果如下：

![Screen Shot 2022-05-09 at 7.49.48 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-09 at 7.49.48 PM.png)

但是这样，页面是不够稳定的，如果这段代码在我们的系统中的预览页面查看的时候，可能还比较和谐，但是在正常的浏览器中查看的时候，就有问题，点击全屏预览，可以看到，两个蓝色的矩形之间间距会很大，但我们的代码并没有做改动。

正确的写法应该是这样的：

```html
<header>
  <main class="clearFix">
    <div class="left"></div>
    <div class="right"></div>
  </main>
</header>
```

```css
.clearFix::after {
  display: block;
  content: '';
  clear: both;
}
header {
  border: 1px solid black;
}
main {
  margin: 0 auto;
  width: 800px;
  background: #e3f3d1;
}

main > div {
  width: 200px;
  height: 40px;
  background-color: #c0e2fd;
}

.left {
  float: left;
}

.right {
  float: right;
}
```

### <3> CSS装饰

#### 3.1 CSS装饰-- cursor

##### cursor

下图中，鼠标箭头的变化，就是`cursor`实现的。

![f2-3-1-show.gif](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.3/f2-3-1-show.gif)

`cursor`添加的方法很简单，和之前学习的属性添加方式一样：

```html
<p>点击这里了解更多cursor性质</p>
```

```css
p{
    cursor: pointer;
}
```

`cursor`的值很多，`pointer`只是其中一个，下面我们来感受一下其他的属性，鼠标悬浮于值上测试结果：

![Screen Shot 2022-05-10 at 5.34.49 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-10 at 5.34.49 PM.png)

`pointer`摇滚小手样式

`default`鼠标键的样式

`text` I 样式

`move` 四方箭头样式

`grab` 巴掌小手样式

`zoom-in` 缩小🔍(-)

`zoom-out`放大🔍(+)

#### 3.2 CSS装饰--box-shadow/text-shadow

##### box-shadow--盒子阴影

盒子阴影的形成原理就是盒子下面的另一个盒子改变样式或者位置造成的现象，你可以[点击这里](https://www.cssmatic.com/box-shadow)，调节相关的属性值来查看效果，这个工具每个参数代表的意思如下图：

![watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.3/%E9%98%B4%E5%BD%B1%E8%A7%A3%E9%87%8A.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

通过上面这个工具，我们主要是为了了解阴影的每一个值所代表的意思，在实际应用中，前端人员是无法自己调出好看的阴影的，我们要做的就是去辅助设计稿上面的阴影值，例如在 **Figma** 中我们可以从这里取阴影值（右边红色边线括起来的即是阴影值）：

![watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10](https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-2-HTML-CSS/1.3/%E9%98%B4%E5%BD%B1%E5%80%BC.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

因此，阴影是一个不常用且不重要的属性，我们只需要知道如何在设计稿里找到阴影值，然后用下面的方式去设置即可：

```css
div{
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.11);
}
```

更多关于阴影的详细描述，请参加[文档](https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-shadow)

##### text-shadow——文字阴影

文字阴影和盒子阴影一样，如果说盒子阴影的形成原因是盒子下面的另一个盒子改变样式或者位置造成的现象，那么文字阴影就是文字下面还有一层相同的文字。

当然了，原理在这里并不重要，重要的是我们可以用下面这段代码去设置文字阴影：

```css
span{
    text-shadow: 0px 0px 10px rgba(0, 0, 0, 0.11);
}
```

更多关于文字阴影的详细描述，请参加[文档](https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-shadow)

关于阴影，在实际开发当中我们知道这些已经足够了，如果对阴影感兴趣的同学可以看一下下面这个案例--[使用阴影制作缝合效果](https://codepen.io/HUBLine/pen/yLLRgYa)以及另一个案例，[使用阴影制作多页效果](https://codepen.io/HUBLine/pen/YzzORYb)

### <4> CSS Flex布局

#### 4.1 CSS Flex布局

网页布局是前端开发中一个重要的课题。根据我们在“Web前端基础”中学习到的盒模型、display属性和position属性等知识，我们已经可以做出比较好看的布局了。

但是对于一些特殊布局，比如垂直居中就会比较麻烦。

2009年，W3C提出了一种新的方案--Flex布局，可以简便、完整、响应式地实现各种页面布局。到目前为止，它已经得到了所有浏览器的支持，我们可以安全放心的使用这项技能。

flex布局右强大的空间分布和对齐能力，可以很容易解决传统布局比较难解决的布局问题。目前flex布局是主流的布局方式，很多前端UI库用的都是flex布局。

> *传统布局，即基于盒模型，依赖display属性，position属性、float属性进行布局。*

##### 什么是flex

Flex是Flexible Box 的缩写，意为“弹性布局”，用来盒模型提供最大的灵活性。任何一个容器都可以指定为Flex布局。

它最显著的效果就是把原本从上到下排列的块状元素变成水平排列：

正常文档流方向（从上到下 用flex变成了水平排列）

![Screen Shot 2022-05-11 at 4.36.25 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 4.36.25 PM.png)HTML如下

```html
<div class="container">
  <div class="item">项目1</div>
  <div class="item">项目2</div>
  <div class="item">项目3</div>
</div>
```

CSS如下：

```css
.container {
  display: flex;
  background: #D5E8D4;
  border: 1px solid #5D9E5A;
}

.item {
  width: 50px;
  height: 50px;
  background: #FFF2CC;
  border: 1px solid #B7A570;
  margin: 10px;
}
```

注意：设为Flex布局以后，子元素的float、clear 和 vertical- align属性将失效。

采用 Flex 布局的元素，称为Flex容器（flex contain)，简称“容器”。它的所有子元素称为Flex项目（flex item），简称“项目”。

![Screen Shot 2022-05-11 at 4.39.42 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 4.39.42 PM.png)

在上面这个例子中，外层div是容器，内层的子元素是项目：

![Screen Shot 2022-05-11 at 4.40.10 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 4.40.10 PM.png)

#### 4.2 justify-content 和 align-items

还记得上节课的最后一题做过的导航条吗？

虽然导航条中的各项已经在同一行中了，但是通常导航条中各项的分布都是均匀的，像这样：

![watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 7.30.57 PM.png)

这时候我们就需要用到flex布局中控制水平方向分布的属性justify-content使导航条中各项的分布如上图所示![Screen Shot 2022-05-11 at 7.31.12 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 7.31.12 PM.png)

1. 调整水平方向的分布 justify-content

**justify-content**属性定义了项目在水平方向上的对齐方式。

> 特别注意，justify是容器的属性，设置在容器上。

justify-content 有六个有效值：

```css
justify-content: flex-start | flex-end | center | space-between | space-around | space-evenly;
```

六个值的表现形式如下：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/9.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

> 在六个值中，我们最常用到的就是 “space-between” 了。

根据上图，我们希望导航条中各项的间距相同，第一项和最后一项紧贴外部的边界，我们应该选择给 ul 设置 justify-content: space-between，显示效果：

![Screen Shot 2022-05-11 at 7.34.32 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 7.34.32 PM.png)

> 由于右侧的浏览器宽度比较小，可能无法看到设置justify-content: space-between后的效果，可点击右上角的放大按钮![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/plus.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)，在新标签页中打开页面查看效果。

如果导航条有固定的高度 130px，导航条的显示效果如下：

![Screen Shot 2022-05-11 at 7.41.57 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 7.41.57 PM.png)

可以看到，图片和文字没有在垂直方向上居中。

那么如何让图片和文字能够在垂直方向上居中呢，这里我们需要用到 flex 布局中**控制垂直方向分布**的属性 align-items。

##### 2. 调整垂直方向上的分布 align-items

**align-items 属性定义项目在垂直方向上如何对齐。**

> 特别注意，align-items 是容器的属性，设置在容器上。

align-items 有五个有效值：

```
align-items: flex-start | flex-end | center | baseline | stretch;
```

五个值的表现形式如下：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/10.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

> 在五个值中，我们最常用到的就是 “center” 了。另外要注意，align-items 的默认值是 stretch，也就是说，在没有给项目设置高度的时候，项目的高度会和容器等高。

根据 align-items 各有效值的表现形式图，为了使导航中文字和图片在垂直方向上居中，我们应该把 ul 的 align-items 属性设置为 center。显示效果：

![Screen Shot 2022-05-11 at 7.43.12 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 7.43.12 PM.png)

从上面导航条的例子中，我们可以看到 flex 布局有**非常强大的空间分布和对齐能力**。justify-content 和 align-items 能够很方便的操控 项目 在水平方向和垂直方向上的分布。

#### 4.3 flex-wrap

默认情况下，项目都排在水平方向上，并且是单行排列，不会换行。

即使所有项目加起来的宽度超过了容器的宽度，也不会换行，并且项目为了记载一行里，会在宽度上进行压缩。

我们来看一下这种情况，项目的宽度上50px，容器的高度在300px到500px之间变化：

![Screen Shot 2022-05-11 at 8.34.02 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 8.34.02 PM.png)

![Screen Shot 2022-05-11 at 8.34.22 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 8.34.22 PM.png)

从上面的效果可以看到，一行排不下的时候，项目会自动压缩挤在一条线上，没有换行，也没有超出容器，而且即使给项目设置了宽度（50px）也组织不了项目被压缩。

如果想让项目换行，我们可以用flex-wrap属性，定义项目是否换行、以及如何换行。

Flex-wrap 可能取三个值。flex-wrap:nowrap ｜ wrap | wrap-reverse

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/19.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

现在我们给上面例子里的容器设置换行属性flex-wrap:wrap，看看会有什么变化：

CSS代码如下：

```css
.container {
  width: 300px;
  display: flex;
  flex-wrap: wrap;
}

.item {
  width: 50px;
}
```

#### 4.4 flex:none 和 flex:1

我们以及知道了，当容器被设置成display:flex 后：

如果项目在一行放不下，就会被压缩：

![Screen Shot 2022-05-11 at 10.06.43 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.06.43 PM.png)

如果项目在一行里排列后容器有剩余空间，项目不放大，不压缩

![Screen Shot 2022-05-11 at 10.06.51 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.06.51 PM.png)

前面讲了，一行排不下的时候，设置换行，项目就不会被压缩了。

那如果在一行排不下的情况下，我们要求项目既能够排在一行里，宽度又不被压缩，这该怎么办呢？

这里我们要用到项目属性，flex，它可以控制项目的放大和缩小。

不允许项目压缩、放大flex:none

如果我们希望项目排在一行里，但是项目的宽度又不被压缩，那么我们一个给项目设置flex:none，使项目不被压缩或放大。

> 之前我们接触的属性，justify-content，align-items，flex-wrap都是设置在flex容器上的，但是这个控制项目是否被压缩或放大的属性，是设置在flex项目上的。

对比不设置flex属性和设置flex:none两种情况下项目的缩放情况：

##### 1. 默认情况，不设置flex属性

![Screen Shot 2022-05-11 at 10.11.39 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.11.39 PM.png)

##### 2. 项目item设置了flex:none

![Screen Shot 2022-05-11 at 10.11.48 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.11.48 PM.png)

项目自动充满剩余空间 flex:1

1. ##### 默认情况，不设置flex属性

![Screen Shot 2022-05-11 at 10.13.07 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.13.07 PM.png)

2. ##### 项目item设置了flex:none

![Screen Shot 2022-05-11 at 10.13.13 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.13.13 PM.png)

> 注意，上述代码中，因为所有项目设置的flex的值都为1，所以所有项目的宽度都相同，这一点很重要，我们可以用这一点来评分一行的空间。

##### 两栏自适应布局

两栏自适应布局指的是一栏固定宽度，另一栏随浏览器宽度的变化自动调节自己的宽度。

比如我们在“Web前端基础”中做过的QQ注册页面

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/35.gif)

我们把它抽象出来看，它就是两栏自适应布局的典型例子，一栏固定宽度，另一栏的宽度随浏览器的宽度的自动调节，始终能够充满浏览器。

HTML如下：

```html
<div class="flex-auto">
  <div class="static"></div>
  <div class="flexible"></div>
</div>
```

CSS 如下：

```css
.flex-auto {
  display: flex;
}
.flex-auto .static {
  width: 100px;
  flex: none;
}
.flex-auto .flexible {
  flex: 1;
}
```

##### 指定项目放大

其实如果一行又剩余的情况下，我们可以任意指定某个项目撑满剩余空间，只要给指定空间设置flex：1即可。

现在我们给最后一个元素设置flex:1，看看变化。

对比不设置flex属性和设置flex：1两种情况下的缩放情况：

##### 1. 默认情况，不设置flex属性

![Screen Shot 2022-05-11 at 10.17.56 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.17.56 PM.png)

##### 2. 最后一个项目设置了flex: 1：

![Screen Shot 2022-05-11 at 10.18.03 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-11 at 10.18.03 PM.png)

#### 4.5 flex-direction

还记得我们做过的“三栏自适应布局”吗？

HTML如下：

```html
<div class="flex-auto">
  <div class="static"></div>
  <div class="flexible"></div>
  <div class="static"></div>
</div>
```

CSS 如下：

```css
.flex-auto {
  display: flex;
}
.flex-auto .static {
  width: 70px;
  flex: none;
}
.flex-auto .flexible {
  flex: 1;
}
```

但有的时候我们需要的是垂直方向上的“三栏自适应布局”，上下两栏固定，中间栏高度充满剩余空间，这样在不同的手机上都能适应，如下所示：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/40.gif)

要做到上面这种自适应布局是很明确的，我们只需要改变横向的三栏自适应布局中三栏的排列方向就可以了（水平向右改成从上到下），那到底怎么实现了？

flex布局给我们提供了一个属性flex-direction，可以改变项目的排列方向（水平向右），当我们设置flex-direction:column时，上面的横向三栏自适应布局会变成纵向的。

##### 主轴和交叉轴

在学习flex-direction属性钱，我们需要先了解flex布局中的两根轴：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/42.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

默认情况下两根轴的方向：主轴：水平，从左到右；交叉轴：垂直，从上到下；

容器中的项目默认按照主轴方向排列。

我们再回到上面的问题中，现在我们要改变项目的排列方向，那么只需要改变主轴的方向就可以了。

> 注意：主轴和交叉轴上相互垂直的关系，交叉轴的方向会随着主轴的方向改变而改变，两轴线始终保持垂直关系。

##### 改变容器中主轴和交叉轴的方向flex-direction

我们可以通过设置flex-direction改变容器中主轴和交叉轴的方向。特别注意，flex-direction时容器属性，设置在容器上。

Flex-direction 有四个有效值：flex-direction: row | row-reverse | column | column-reverse；

1. row: 即默认值，主轴为水平方向，起点在左端。
2. row-reverse 主轴为水平，起点在有短。
3. column : 主轴为垂直方向，起点在上沿。
4. column-reverse 主轴在垂直方向，起点在下沿。

四种有效值情况下，项目的排列方向：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.4/8.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

现在我们改变三栏自适应布局中项目的排列方向。根据上图，我们选择flex-direction:column。

##### 主轴改变后的影响

默认情况下（主轴水平向右，交叉轴垂直向下），justify-content 和 align-items 分别控制水平方向和垂直方向上项目的分布。

用flex-direction改变主轴方向后，justify-content和align-items控制的方向也会发生变化：

比如给容器设置justify-content:space-between的情况：

![Screen Shot 2022-05-12 at 9.02.47 AM](/Users/dongyanzu/Desktop/Screen Shot 2022-05-12 at 9.02.47 AM.png)

设置了flex-direction:column之后，justify-content:space-between控制的事项目在垂直方向上的分布。

### <3> CSS 高级美化

#### 5.1 单行文本超出省略

比如网页中我们常常遇到文本内容溢出，用省略号代替剩余内容的情况，比如：

1. 问吧个人中心的信息：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.5/1.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

2. 谷歌浏览器的搜索结果

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.5/2.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

3. 知乎热榜

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.5/3.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

这样的例子太多啦，这里我们就来学习，文本溢出省略的实现方法。

文本溢出省略分为单行溢出省略和多行溢出省略，我们先学习单行的溢出处理。

##### 单行文本溢出省略

为什么我们需要设置单行文本溢出省略呢？

因为正常情况下，文本内容超出了所给的宽度范围，文字会自动换行，但我们并不希望它换行，这时候我们就需要进行单行文本溢出省略的操作了。

这里就涉及到了三个知识：强制不换行、元素内容溢出处理和文本溢出省略。

1. 强制不换行

HTML5推荐使用“white-space:nowrap;“实现不换行。

以上面的知乎热榜为例。

先写HTML和基础文本样式，显示效果：

![Screen Shot 2022-05-12 at 10.28.50 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-12 at 10.28.50 PM.png)

设置强制不换行之后（试着横向滚动下面的内容看看）：

![Screen Shot 2022-05-12 at 10.29.44 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-12 at 10.29.44 PM.png)

可以看到，文本内容不再换行显示了。

2. 元素内容溢出overflow

进一步设置，对超出的文本进行处理，我们的目标是超出部分不显示，并且出现省略号，所以这一步我们要给元素设置超出隐藏，这里要用到属性overflow。

overflow属性决定超出盒子的内容怎么显出，它的 5 个有效值：

overflow :visible | hidden | inherit | scroll | auto;

| 值       | 描述                        |
| ------- | ------------------------- |
| visible | 这是默认值，从父元素继承overflow属性的值  |
| hidden  | 内容会被修剪，并且超出的内容不可见         |
| inherit | 内容不会被修剪，会呈现在元素框之外         |
| scroll  | 内容会被修剪，浏览器会显示滚动条以便查看超过的内容 |
| auto    | 由浏览器定夺，如果内容被修剪，就会显示滚动条    |

根据 5 个有效值的效果和我们的目前“超出部分不显示”，我们应该给`div.txt`设置overflow:hidden，设置后的效果：

![Screen Shot 2022-05-12 at 10.40.57 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-12 at 10.40.57 PM.png)

3. 文本溢出省略text-overflow

最后我们用省略号代替剩余内容。css有个专门处理文本溢出的属性可以完成这个功能：text-overflow。

它有两个值：

text-overflow:clip | ellipsis

- clip: 默认值，表示在内容区域的极限处截断文本，可以简单的理解成过出一刀切掉了。
- Ellipsis: 表示用一个省略("...")来表示截断的文本。

现在我们给`div.txt`设置text-overflow:ellipsis，设置后的效果：

![Screen Shot 2022-05-12 at 10.49.44 PM](/Users/dongyanzu/Library/Application Support/typora-user-images/Screen Shot 2022-05-12 at 10.49.44 PM.png)

简单总结一下，文本溢出省略的css代码：

```css
/* 强制不换行 */
white-space: nowrap;
/* 隐藏超出部分 */
overflow: hidden;
/* 用省略号代替剩余内容 */
text-overflow: ellipsis;
```

#### 5.2 多行文本超出省略

上一节讲到了做单行文本溢出省略的处理。这里我们再讲讲怎么做多行文本溢出省略。

以上节课做的知乎热榜为例，替换了下内容，上个作业我们做的事单行文本省略，这回我们要做成两行溢出省略：

先写好基础的HTML内容和样式代码。

WebKit内核浏览器多行文本溢出省略

WebKit内核的浏览器实现起来比较简单，具体代码如下：

```css
/* 隐藏超出部分 */
overflow : hidden;
/* 文本超出就用省略号 */
text-overflow: ellipsis;
/* 把对象作为弹性伸缩盒子模型显示 */
display: -webkit-box;
/* WebKit内核的浏览器的私有属性，设置文本超出2行就用省略号 */
-webkit-line-clamp: 2;
/* WebKit内核的浏览器的私有属性，设置或检索伸缩盒对象的子元素的排列方式 */
-webkit-box-orient: vertical;
```

我们先把"white-space:nowrap;"去掉，这样文本就不会被强制不换行。

然后我们给之前写好的基础代码添加上面几句样式代码，就可以了。

##### 其他浏览器

其他浏览器目前没有CSS属性可以直接控制多行文本的省略显示。在我们之后学习了JavaScript之后，可以用js做。

### <6> CSS 预处理器

#### 6.1 SCSS介绍

##### 什么是SASS

SASS是一款CSS预编译器，它定义了一种新的编程语言，为CSS增加了一些编程的特性，开发者使用这种语言进行编码后，代码需要被编译成CSS才能被浏览器理解。

SASS比CSS更像一们编程语言，它可以有变量，函数，控制语句，导入，嵌套等高级工程，类似的CSS预编译器还有less、Stylus等。

有了这些高级功能，SASS可以：

1. 提供变量，实现一键替换主题色之类的功能；
2. 用嵌套写法减少选择器的重复书写；
3. 用混合功能解决代码复用问题；
4. 用函数进行复杂的运算；
5. 把样式代码模块化，减少不同模块的代码间不必要的相互影响，提高代码安全性；
6. ...

> 官方介绍：Sass是对CSS的扩展，让CSS语言更强大、优雅。它允许你使用变量、嵌套规则、mixins、导入等众多功能，并且完全兼容CSS语法。Sass有助于保持大型样式表结构良好，同时也让你能够快速开始小型项目，特别是在搭配Compass样式库一同食用时，主要体现在以下方面：
> 
> - 完全兼容CSS3
> - 在CSS基础上增加变量、嵌套(nesting)、混合(mixins)等功能
> - 通过[函数](https://sass-lang.com/documentation/modules)进行颜色值与属性值的运算
> - 提供[控制指令(control directives)](https://www.sass.hk/docs/#t8)等高级功能
> - 自定义输出格式

##### Sass 和 Scss

我们已经知道了Sass是一款CSS预编译器，那么大家说的Scss又是什么呢？

Scss其实是Sass3为了兼容CSS引入的新语法。

大家都学习过了CSS的写法，知道CSS的语法是选择器+声明块。声明块是由花括号和声明组成的。比如：

```css
#sidebar {
  width: 30%;
  background-color: #faa;
}
```

但是最早的Sass语法格式，被称为缩进格式（Indented Sass）通常简称"Sass"，是一种简化格式。它使用“缩进”代替“花括号”表示属性属于某个选择器，用“换行”代替“分号”分隔属性，很多人认为这样做比SCSS更易阅读，书写也更快速，比如上面这段代码样式用sass的语法可以这样写：

```css
#sidebar
  width: 30%
  background-color: #faa
```

Sass 3 引入了新的语法，那就是Scss，其语法完全兼容CSS3，并且继承了Sass的强大功能，也就是说，任何标准的 CSS3 样式表都是具有相同语义的有效 Scss 文件。

Sass 和 Scss 的大部分扩展，例如变量、parent references 和指令都是一致的；唯一不同的是，SCSS需要使用分号和花括号而不是换行和缩进。比如上面这段代码用Scss的语法写的话看起来和CSS的写法是一样的：

```css
#sidebar {
  width: 30%;
  background-color: #faa;
}
```

我们倡导大家使用Scss编写样式文件。文件的后缀用".scss"

#### 6.2  变量

##### 变量

在CSS属性的基础上Sass提供了一些名为SassScript的新功能。SassScript可作用于任何属性，允许属性使用变量、算数运算等额外功能。

SassScript 最普遍的用法就是变量，变量以美元符号“$“开头，赋值方法与CSS属性的写法一样：

```scss
$width: 10px;
```

使用变量：

```scss
#main {
  width: $width;
}
```

编译成css：

```css
#main {
  width: 10px;
}
```

如果变量类型为字符串，一般不需要加引号，但是有些特殊情况，比如字符串中有双斜杠//，就需要用英文输入法状态下的单引号或者双引号包裹字符串，用引号的写法：

```scss
// 变量需要定义在使用之前
$position: "absolute";
$mainTxtColor: '#333';

// 应用
#main {
  position: $position;
  color: $mainTxtColor;
}
```

> 因为在Sass中双斜杠表示单行注释。

除了简单的复制，Sass中变量还可以定义类似数组的变量：

```scss
$animals: puppy kitty chick;
```

这样的变量一般会配合Sass中的循环语句使用，我们在后面的课程中会讲到的。

##### 简单计算

还是上面这个例子：

```scss
$width: 10px;

#main {
  width: $width / 2;
}
```

编译成css：

```css
#main {
  width: 5px;
}
```

Sass 中支持在使用变量的时候进行简单的加减乘除的计算。

这样一来我们可以很方便的定义固定宽高比的元素。比如：

```scss
$width: 10px;

#main {
  width: $width / 2;
  height: $width * 2;
}
```

编译成 css：

```css
#main {
  width: 5px;
  height: 20px;
}
```

上面这个元素的宽高比：width : height = 1 / 4，不管怎么改变 $width 的值，这个宽高比是不会变的。

##### 插值法

`#{}`插值几乎可以在Sass样式表的任何地方使用：

```scss
$name: "mail";
$top-or-bottom: "top";
$left-or-right: "left";

.icon-#{$name} {
  background-image: url("/icons/#{$name}.svg");
  position: absolute;
  #{$top-or-bottom}: 0;
  #{$left-or-right}: 0;
}
```

1. `.icon-#{$name}`：“$name”为“mail”，编译后选择器为“.icon-mail”；
2. `url("/icons/#{$name}.svg")`：“$name”为“mail”，编译后图片路径为“/icons/mail.svg”；
3. `#{$top-or-bottom}: 0;`：“$top-or-bottom”为“top”，编译后声明为“top: 0;”

完整的编译结果：

```css
.icon-mail {
  background-image: url("/icons/mail.svg");
  position: absolute;
  top: 0;
  left: 0;
}
```

> 值得一提的是：你可以用插值法插入任何类型的变量，不仅仅是字符串。

#### 6.3 嵌套

大家对下面这种长长的css选择器的写法应该不会感到陌生。

```css
main .double .item .links {
  text-align: center;
}

main .double .item .links a {
  margin-right: 20px;
}
```

特别是遇到比较复杂的页面结构，为了不影响其他元素的样式，写样式的时候我们往往会把选择器写的比较精确，导致这个选择器就会越写越长。

这就会产生很多问题，比如：一不小心手误写错了父选择器、选择器太长不知道选中的到底是哪个元素……

总而言之，过长的选择器不但写的时候抓狂，可读性可维护性也差。

Sass为了解决这个问题，提供了一个很实用的功能：嵌套。

比如上面的这两个选择器选中的元素是父子元素关系，在 Sass 里可以这样写，把共同的选择器提了出来：

```scss
main .double .item .links {
  text-align: center;
  a {
    margin-right: 20px;
  }
}
```

这样一来，元素之间的结构是不是就很清楚了呢。下面我们来详细的学习一下 Sass 中的嵌套功能。

##### 嵌套

**嵌套规则**

Sass 允许将一套 CSS 样式嵌套进另一套样式中，内层的样式将它外层的选择器作为父选择器，比如：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.6/3.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

嵌套功能避免了重复输入父选择器，而且令复杂的 CSS 结构更易于管理。

##### 父选择器 &

在嵌套 CSS 规则时，有时也需要直接使用嵌套外层的父选择器，例如，当给某个元素设定 hover 样式时，可以用 & 代表嵌套规则外层的父选择器，比如：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.6/4.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

或者特殊一点的用法：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.6/5.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

嵌套功能使样式代码的结构更清晰，大大降低了写错的概率，安全性、可读性、可维护性上都有很大的提升。

#### 6.4 复用：mixing/include

很多编程语言中都有解决代码复用的方案，sass也不例外，我们可以用混合(mixin/include)来定义可重复使用的样式。

minxin/include 除来可以用来解决代码复用问题，还能解决无语义的类名问题（比如：“float-left“）。

##### 无参数混合

在写网页样式的时候，我们常常遇到在不同元素中运用相同样式的情况，比如把页面上的头像都处理成宽高1:1的正方形的情况。

过去，在css中我们可以通过复用类型，来实现代码的复用：

CSS如下：

```css
.square {
  width: 100px;
  height: 100px;
}
```

HTML 中的应用：

```html
<div class="user-avatar square">...</div>
<div class="admin-avatar square">...</div>
```

现在，我们试着用Sass的mixing/include来解决复用问题：

```scss
@mixin square {
  width: 100px;
  height: 100px;
}

// 应用：
.user-avatar {
  @include square;
}
.admin-avatar {
  @include square;
}
```

上面这段sass代码中，定义了一个可复用的代码块，并取名为 square，它的主要用途是把元素设置成宽高 1:1 的正方形。然后，通过使用关键词@include，我们在div.user-avatar和div.admin-avatar中应用了这个样式。

编译结果：

```css
.user-avatar {
  width: 100px;
  height: 100px;
}

.admin-avatar {
  width: 100px;
  height: 100px;
}
```

这样是不是很方便呢，用了混合，我们就不用去改动 HTML代码了（在元素中添加类名）。

混合的使用方法： **”@mixin“：定义可复用的样式** **”@include“：应用可复用的样式**

那我们可不可以指定正方形的大小呢？

可以的，只要给定义的样式代码传入参数就可以啦。

##### 有参数混合

##### 参数无默认值

如何给定义的复用代码块传入参数，增加它的可用性呢，还是上面的例子，我们稍作修改：

```scss
@mixin square($size) {
  width: $size;
  height: $size;
}

// 应用
.avatar {
  @include square(100px);
}
```

这里我们允许使用者在使用 square 的时候传入一个值 $size，然后根据传入的值 `$size` 把元素处理成正方形。

编译结果：

```css
.avatar {
  width: 100px;
  height: 100px;
}
```

这样，头像就被处理成了宽高各为 100px 的正方形。

##### 参数有默认值

传参数的这种情况，我们还可以给参数设定默认值，比如：

```scss
@mixin square($size: 100px) {
  width: $size;
  height: $size;
}

// 不传参数就会使用默认的值 100px
.avatar {
  @include square;
}

// 传入参数就会使用传入的值 200px
.avatar-200 {
  @include square($size: 200px);
}
```

编译结果：

```css
/* 不传参数就会使用默认的值 100px */
.avatar {
  width: 100px;
  height: 100px;
}
/* 传入参数就会使用传入的值 200px */
.avatar-200 {
  width: 200px;
  height: 200px;
}
```

### <7> CSS响应式

#### 7.1 响应式布局

##### 什么是响应式网页设计？

响应式布局这个概念是Ethan Marcotte 在2010年5月份提出的一个概念，简而言之，就是一个页面能够兼容多个终端，而不是为每个终端做一个特定的版本。

响应式布局主要通过规定特定的宽度范围使用特定的布局来实现在不同的设备上应用不同的布局。

举几个大家都不陌生的例子：

1. [GitHub](https://github.com/)

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/1-github.png?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

可以看到GitHub 在手机、平板、电脑上打开，页面的布局是有区别的。

从电脑切换到平板或者手机的时候，上方的菜单栏隐藏到了汉堡图标里，这是一种很常见的做法，此外，中心焦点也从表单变成了按钮。

2. [QQ注册页](https://ssl.zc.qq.com/v3/index-chs.html)

响应式不仅仅指页面在不同设备上布局不同，在同一设备（电脑）上通过调整浏览器的宽度，我们同样可以看到页面的布局发生了变化，这也是响应式布局。

要使页面在不同的宽度范围内使用特定的布局，就需要制定对应的规则，这里我们就要用到CSS3中的媒体查询@media了。

#### 7.2 媒体查询

##### 什么是媒体查询？

媒体查询是CSS3中引入的一种CSS技术。仅当满足特定条件时，它才使用对应的CSS属性块。

先来看一下媒体查询的基础语法：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/18.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

> “screen”：告知设备在打印页面时使用衬线字体，在屏幕上显示时用无衬线字体。如果你的网页不需要考虑用户去打印时，你可以直接这样把上图代码中的“screen and”去掉。

现在我们以 QQ 注册页为例，来写一下简单的响应式布局。

##### QQ 注册页的响应式布局

在 QQ 注册页中，根据浏览器宽度不同，它有三种布局：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/3-qq.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

- 浏览器宽度小于等于900px右上角导航项保留“简体中文”和“意见反馈”，隐藏左侧大图，保留表单部分；
- 浏览器宽度大于900px，小于等于1080px右上角导航项全展示，显示左侧大图，图宽240px；
- 浏览器宽度大于1080 右上角导航项全展示，显示左侧大图，图宽480px；

这个就是 QQ 注册页的响应式布局规则。

由于篇幅有限，不能把QQ注册页的html和css都写出来，我们关注这个规则中左侧大图的变化，用@media把这个规则写出。

##### 条件：最大宽度（max- width）

现在我们先写浏览器宽度小于等于900px时，隐藏左侧大图的样式代码。

宽度小于等于900px，意味着最大宽度900px，所以宽度条件时“max-width：900px” ：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/19.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

##### 条件：最小宽度（min-width）

接下来，我们写浏览器宽度大于1080px时，设置左侧大图宽度为480px的样式代码，宽度大于1080，即浏览器的最小宽度为1080px（min-width：1080px）；

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/20.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

逻辑操作符 and

最后为们写浏览器宽度大于900px，小于等于1080px时，设置左侧大图宽度为240px的样式代码。

浏览器宽度大于900px，小于等于1080px，即浏览器的最小宽度时900px（min-width:900px) ， 最大宽度时 1080px （max-width:1080px)，并用逻辑操作符and把两个条件结合起来：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/21.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

以上就是我们最常需要用到的媒体查询器的两个特性，大于，小于的写法。

#### 7.3 断点

##### 断点

在上一节“媒体查询”中，我们以QQ注册页为例写了一个简单的响应式页面。

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/3-qq.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

在这个例子中，我们用两个点（900px 和 1080px）把浏览器宽度分成了三段，在这三段中，页面左侧大图有不同的表现：

![watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10](https://document.youkeda.com/P3-2-HTML-CSS/1.7/4.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

这两个点（900px 和 1080px）就是我们所说的断点（break points）。

因为响应式布局是为了页面能够兼容多个终端而提出的，因此断点值的设置和设备的尺寸有很大关系。

根据W3school的推荐的主流设备屏幕宽度，我们总结了典型的断点：

| 范围（px）   | 适用于                          |
| -------- | ---------------------------- |
| <=600    | 超小型设备（手机，600像素以下）            |
| 600~768  | 小型设备（纵向平板电脑和大型手机，600px像素及以下） |
| 768~992  | 中型设备（横向平板电脑，768像素及以上）        |
| 992~1200 | 大型设备（笔记本电脑/台式机，768像素及以上）     |
| >=1200   | 超大型设备（大型笔记本电脑和台式机，1200像素及以上） |

##### 冲突的媒体查询条件

在QQ注册页中，除了用上一章写媒体查询条件的，我们还可以这样写（变动的代码已在下面标出）：

```css
/* 小于等于 900px时应用此布局 */
@media screen and (max-width: 900px) {
  .container .side {
    /* 提示：把原来的 display:none; 改成了 width:0; */
    width: 0;
  }
}

/* 小于等于 1080px时应用此布局 */
/* 提示：把原来的条件 “(min-width: 900px) and (max-width: 1080px)” 改成了 “(max-width: 1080px)” */
@media screen and (max-width: 1080px) {
  .container .side {
    width: 240px;
  }
}

/* 大于1080px时应用此布局 */
@media screen and (min-width: 1080px) {
  .container .side {
    width: 480px;
  }
}
```

我们把上面的规则表示在数轴上：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/15.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

这时候我们发现，当浏览器宽度小于900px，它既满足第一个媒体查询的条件，又满足第二个媒体查询的条件，两个条件中的样式代码会发生冲突，根据css中越靠后的样式优先级越高的原则，左侧大图会应用`width:240px`这段样式代码。

这不符合我们的预期。

由于css中越靠后的样式优先级越高，因此这里就存在一个问题，就式冲突的媒体查询条件的顺序怎么排。

在上面这个例子，我们应该把第一个条件和第二个条件的顺序交换一下，在数轴上表示调整顺序后的规则：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.7/16.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

由于条件（max-width:900px) 排到了(max-width:1080px)后面，因此当浏览器宽度小于900px时，根据css中越靠后的样式优先级越高的原则，左侧大图会应用`width:0px`这样样式代码，这才是我们预期的。

总结：

1. 媒体查询用max-width 表示条件的时候，大的断点放上面。
2. 反过来，用min-width 表示条件的时候，小的断点放上面。

### <8> 微博：个人页面

#### 8.1 微博个人页

接下来我们做一个完整页面，为这节画上完美句号。

再次之前，我们需要补充一个知识。那就是sass文件的导入。

微博个人页相对之前的作业，拥有更多的样式代码，如果把样式代码写在一个文件里，那么这个文件会非常的不方便。因此这里这里要介绍sass文件的模块化的导入。

##### Sass文件的导入

在这里，为们可以简单的理解这个模块化就是HTML中的不同结构对应一个样式文件，比如微博的banner，对应有一个banner的样式文件，左侧栏有对应的左侧栏样式文件，最后把他们导入到一个文件夹中，再把这个文件编译后到css文件引入html文件即可。

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.8/8.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

##### 作业描述

在之前我们完成了“微博个人页”的头部、banner、左侧栏的开发、本次作业是完成整个“微博个人页”的开发，如下图所示：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.8/1.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

##### 分析

整个页面的主体由4个部分组成-头部区域，banner区域，主体左侧导航区域，主体右侧微博内容区域，如图：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.8/2.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)

1. 头部区域 头部区域之前已经完成了，代码中已经加入头部答案，这一章节中需要把它fixed定在顶部。
2. banner区域banner区域之前的作业也完成了，代码中已经加入banner部分答案，在真实的微博个人页中，banner是响应式的，这一章节中需要大家把它做成响应式的。
3. 左侧区域 左侧区域在之前也完成了，这一章节中需要大家把它做成响应式的。
4. 右侧区域 右侧区域是占满整个浏览器除开左侧区域的剩余宽度，这里可以使用flex两栏自适应布局来完成。

响应式 当浏览器宽度小于900px 时，页面布局变为下图所示：

![img](https://document.youkeda.com/P3-2-HTML-CSS/1.8/3.jpg?x-oss-process=image/resize,w_800/watermark,image_d2F0ZXJtYXNrLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzEwMA==,t_60,g_se,x_10,y_10)
